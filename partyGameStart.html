<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truth or Dare</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f3f3f3;
            color: #333;
            display: flex; /* Use flexbox for layout */
            justify-content: center; /* Center content horizontally */
            align-items: center; /* Center content vertically */
            flex-direction: column;
            height: 100vh; /* Full viewport height */
            margin: 0;
        }

        .main-container {
            display: grid; /* Turn the container into a grid */
            grid-template-columns: 2fr 1fr; /* Define two columns: screen (2 parts) and side-content (1 part) */
            gap: 20px; /* Add space between the grid items */
            width: 80%; /* Set a width for the main container */
            max-width: 700px; /* Limit the maximum width of the container */
            padding: 20px;
        }

        .screen {
            max-width: 400px;
            padding: 20px;
            background-color: #fff;
            ;
            border-radius: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column; /* Stack content vertically */   
            align-items: center; /* Center content horizontally */
            text-align: center; /* Center text within the screen */
            justify-content: center;
        }

        .side-content {
            max-width: 300px; /* Set a max width for the side content */
            padding: 20px;
            background-color: #fff;
            ;
            border-radius: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column; /* Stack content vertically */
            align-items: center; /* Center content horizontally */
            text-align: center; /* Center text within the side content */
        }

        .namesOfPlayers {
            
            width: 700%; /* Full width of the container */
            display: flex;
            justify-content: center;
            align-items: center; /* Center content vertically */
            max-width: 700px; /* Limit the maximum width of the container */
            border-radius: 20px;
           

        }

        .players-container {
            max-width: 100%;
            ; /* Limit height of players container */
            overflow-y: auto; /* Enable scrolling if content overflows */
            height: auto;
            background-color: #fff;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Add a subtle shadow */
            scrollbar-width: none;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s ease; /* Smooth transition for hover effects */
            background-color: #f0f0f0;
        }

        button:hover {
            background-color: #fcf6f6;
            color: #333;
            width: 170px;
            height: 45px
        }
        .h2-2, .truthOrDar {
            font-size: 24px;
            color: #333;
            margin-bottom: 10px;
            text-align: center; /* Center the text within the screen */
            font-weight: bold; /* Make the text bold */
            width: 280px;
        }
        .skip, .continue {
            background-color: #f0f0f0; /* Lighter background for skip and continue buttons */
            color: #333; /* Darker text color for contrast */
            width: 100px;
            
        }
        .truth, .dare {
            width: 160px;
            background-color: #f0f0f0;
        }

        #playerList {
            list-style-type: none; /* Remove the bullet points */
            display: flex; /* Arrange items in a row */
            flex-wrap: wrap; /* Allow items to wrap to the next line */
            justify-content: center; /* Center the items horizontally */
            gap: 4px; /* Add spacing between the items */
            padding: 0; /* Remove default padding */
            margin: 0; /* Remove default margin */
        }

        #playerList li {
            font-family: 'Press Start 1P', cursive; /* Use the same game font */
            font-size: 17px; /* Adjust font size */
            color: #333; /* Set text color */
            padding: 10px 15px; /* Add padding for better readability */
            border-radius: 5px; /* Round the corners */
            
            text-align: center; /* Center the text inside the <li> */
        }
         @media (max-width: 768px){
            body{
                width: 100vw;
                min-height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center; /* Center content vertically */
                flex-direction: column; /* Stack elements vertically */
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                overflow-x: hidden; /* Prevent horizontal scroll */
            }
            .main-container {
                grid-template-columns: 1fr; /* Stack the columns on smaller screens */
                display: flex;
                justify-content: center;
                align-items: center; /* Center content horizontally */
                flex-direction: column;
                width: 100vw;
                max-width: 100vw;
                padding: 0;
            }
            .side-content{
                width: 300px; /* Set a max width for the side content */
                padding: 0;
                background-color: #fff;
                border-radius: 20px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                display: flex;
                flex-direction: column; /* Stack content vertically */
                align-items: center; /* Center content horizontally */
                text-align: center; /* Center text within the side content */
            }
            #playerList {
                flex-wrap: wrap; /* Allow player names to wrap to the next line */
                justify-content: center;
            }
             .namesOfPlayers{
                margin-top: 20px ;
                width: 100vw; /* Full width of the container */
           
        }
         }

        
    </style>
</head>
<body>
    <div class="main-container">
        
        <div class="screen">
            <h1 class="truthOrDar"><samp>TRUTH OR DARE</samp></h1>
            <h2 class="h2-2"><samp></samp></h2>
        </div>
        <div class="side-content">
            <div class="randomPlayer-playing">
                <h3 class="whos-playing"><samp>Whos Playing</samp></h3>
            </div>
            <button class="truth">TRUTH</button><br>
            <button class="dare">DARE</button><br><br>
            <button class="skip">SKIP</button><br>
            <button class="continue">continue</button><br>
        </div><br>
       
    </div>
    <div class="namesOfPlayers">
        <div class="players-container">
            <h3 class="list-of-players-name">
                <ul id="playerList">
                    <!-- Player names will be dynamically added here -->
                </ul>
            </h3>
            
        </div>
    </div>
    <script>
        // Array of truth questions
        const truthQuestions = [
            "What’s your wildest party story?",
            "Have you ever kissed more than one person in one night?",
            "What’s the most awkward hookup story you’ve got?",
            "If you had to hook up with someone here, who would it be?",
            "Have you ever skinny-dipped? Where?",
            "What’s the most trouble you’ve gotten in while drunk?",
            "What’s your biggest turn-on?",
            "Who here do you think is most likely to cheat in a relationship?",
            "Have you ever faked being into someone?",
            "What’s the hottest dream you’ve ever had?"
        ];

        // Array of dare challenges
        const dareChallenges = [
            "Take a shot (or sip) without using your hands.",
            "Call your crush and confess you like them.",
            "Let someone go through your phone for 60 seconds.",
            "Do a body shot off the person to your left (or fake it if you’re keeping it tame).",
            "Dance seductively to a random song for 30 seconds.",
            "Let someone write 'I’m single, DM me' on your story.",
            "Lick whipped cream off someone’s finger.",
            "Send a risky emoji to the third person in your DMs.",
            "Try to name everyone's last ex in the room (or take a drink for each one you miss).",
            "Swap an item of clothing with someone in the group."
        ];

        // Retrieve players from localStorage
        const players = JSON.parse(localStorage.getItem('players')) || [];

        // Display players in the list
        const playerList = document.getElementById('playerList');
        players.forEach(player => {
            const li = document.createElement('li');
            li.textContent = player;
            playerList.appendChild(li);
        });

        let shuffledPlayers = []; // Array to hold the shuffled players
        let currentIndex = 0; // Index to track the current player
        let gameStarted = false; // Flag to track if the game has started

        document.querySelector('.continue').addEventListener('click', () => {
            // Check if there are players in the list
            if (players.length > 0) {
                // Shuffle the players if the shuffled array is empty or all players have been picked
                if (shuffledPlayers.length === 0 || currentIndex >= shuffledPlayers.length) {
                    shuffledPlayers = [...players]; // Copy the players array
                    shuffleArray(shuffledPlayers); // Shuffle the array
                    currentIndex = 0; // Reset the index
                }
                const displayTruthOrDare = document.querySelector('.truthOrDar');
                displayTruthOrDare.textContent = 'TRUTH OR DARE'; // Display a message

                // Select the next player
                const selectedPlayer = shuffledPlayers[currentIndex];
                currentIndex++; // Move to the next player

                // Display the selected player's name in the "Who's Playing" section
                const whosPlayingElement = document.querySelector('.whos-playing');
                whosPlayingElement.textContent = selectedPlayer;


                document.querySelector('.h2-2').style.display = 'none'; // Hide the main container
                document.querySelector('.truthOrDar').style.display = 'block'; // Show the main container

               


                // Set the gameStarted flag to true
                gameStarted = true;
            } else {
                // If no players are available, display a message
                alert('No players available. Please add players to the game.');
            }
            const continue1 = document.querySelector("h2-2");
            continue1.textContent = "jo";
            
                

        });

        // Add event listener for the "Truth" button
        document.querySelector('.truth').addEventListener('click', () => {
            if (!gameStarted) {
                const displaytruthchoice = document.querySelector('.truthOrDar');
                displaytruthchoice.textContent = 'Please start the game by clicking the "Continue" button first.';
                return;
            }

            // Randomly select a truth question
            const randomIndex = Math.floor(Math.random() * truthQuestions.length);
            const selectedQuestion = truthQuestions[randomIndex];

            // Display the selected question
            const displaytruthchoice = document.querySelector('.truthOrDar');
            const displayTruth = document.querySelector('.h2-2');
            displayTruth.textContent = selectedQuestion;
            displaytruthchoice.textContent = "TRUTH ";

            displayTruth.style.display = 'block'; // Show the question
        });

        // Add event listener for the "Dare" button
        document.querySelector('.dare').addEventListener('click', () => {
            if (!gameStarted) {
                const displayDareChoice = document.querySelector('.truthOrDar');
                displayDareChoice.textContent = 'Please start the game by clicking the "Continue" button first.';
                return;
            }

            // Randomly select a dare challenge
            const randomIndex = Math.floor(Math.random() * dareChallenges.length);
            const selectedDare = dareChallenges[randomIndex];

            // Display the selected dare
            const displayDareChoice = document.querySelector('.truthOrDar');
            const displayDare = document.querySelector('.h2-2');
            displayDare.textContent = selectedDare;
            displayDareChoice.textContent = " I DARE YOU TO ";

            displayDare.style.display = 'block'; // Show the dare
        });

        // Add event listener for the "Skip" button
        document.querySelector('.skip').addEventListener('click', () => {
            if (!gameStarted) {
                const displaySkip = document.querySelector('.truthOrDar');
                displaySkip.textContent = 'Please start the game by clicking the "Continue" button first.';
                return;
            }

            const displaySkip = document.querySelector('.h2-2');
            displaySkip.textContent = "You skipped this round! You must face the consequences.";
            document.querySelector('.truthOrDar').style.display = 'none'; // Hide the main container
        });

        // Add event listener for the "Return" button
        document.querySelector('.return-button').addEventListener('click', () => {
            // Logic for the return button (e.g., navigate to the previous page or main menu)
            window.location.href = 'index.html'; // Replace 'index.html' with the desired return URL
        });

        // Function to shuffle an array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
    </script>
</body>
</html>